#REDIS知识摘录

##1.redis使用一种自己构建的名为简单动态字符串的抽象类型（SDS）
经过包装之后，sds中保存如下信息，1，字符数组2，已使用的数组长度3，未使用的数组长度
好处如下：
省去了通过遍历才能实现获取字符串长度的方法<br>
redis的五种数据类型：string，hash，set，sortedset，list
string数据类型使用简单动态字符串实现SDS,而不是c默认的字符串
sortedset的实现是使用跳跃表，除此之外，集群的内部数据结构也是跳跃表
set使用整数集合实现(前提：集合中数据都是整数，且数量不多),整数集合中的元素都是有序的
list和hash的底层实现是列表键

##redis的事物及机理
	事物有关的三个命令：multi，exec，watch
multi实现从非事务到事务状态的切换，（这是通过在客户端中的改变REDIS_MULTI状态实现的）
事务状态下除了MULTI，DISCARD，EXEC，WATCH四个命令，其他的命令都会被放入事务队列中

watch命令是乐观锁
redis的事物不支持回滚：即使事务队列中的某个命令在<font color="red">执行期间</font>出现了错误，整个事务仍然会继续执行，之前和之后的命令都不会受影响
而<font color="red">入队出错</font>时，事务可以放弃执行<br>
redis之所以不支持回滚，是因为，设计者相信这种错误，只会发生在开发期间，不会在生产中出现（既，找不到业务场景）<br>

